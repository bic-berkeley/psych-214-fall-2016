<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Arrays as images, images as arrays &#8212; Functional MRI methods</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Functional MRI methods" href="index.html" />
    <link rel="next" title="Find the arteries exercise" href="arteries_exercise.html" />
    <link rel="prev" title="Anatomical solution" href="anatomical_solution.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><span class="math">\(\newcommand{L}[1]{\| #1 \|}\newcommand{VL}[1]{\L{ \vec{#1} }}\newcommand{R}[1]{\operatorname{Re}\,(#1)}\newcommand{I}[1]{\operatorname{Im}\, (#1)}\)</span></p>
<div class="section" id="arrays-as-images-images-as-arrays">
<h1>Arrays as images, images as arrays<a class="headerlink" href="#arrays-as-images-images-as-arrays" title="Permalink to this headline">Â¶</a></h1>
<p>You can consider arrays as images, and images as arrays.</p>
<p>We start off with our usual imports:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Let&#8217;s make an array of numbers between 0 through 99:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">an_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">an_array</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(15, 8)</span>
</pre></div>
</div>
<p>In fact this array represents a monochrome picture of a letter.</p>
<p>We can show arrays as images using the <code class="docutils literal"><span class="pre">plt.imshow</span></code> command from
<a class="reference external" href="http://matplotlib.org/">matplotlib</a>. Here is the default output:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-3.png">png</a>, <a class="reference external" href=".//arrays_and_images-3.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-3.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-3.png" src="_images/arrays_and_images-3.png" />
</div>
<p>If you have a version of matplotlib older than version 2.0, this image will
look rather blurry. This is because matplotlib is drawing an image with many
more pixels than the array has values. For the pixels in-between array values,
older matplotlib has a default of using <a class="reference external" href="http://en.wikipedia.org/wiki/Linear_interpolation">linear interpolation</a> to estimate a
good pixel value. We can turn off this blurring effect by using <a class="reference external" href="https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation">nearest
neighbor interpolation</a> instead of linear interpolation:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-4.png">png</a>, <a class="reference external" href=".//arrays_and_images-4.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-4.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-4.png" src="_images/arrays_and_images-4.png" />
</div>
<p><code class="docutils literal"><span class="pre">nearest</span></code> interpolation is the default value for matplotlib 2.0 and later.
If you have an older matplotllib and you&#8217;d like <code class="docutils literal"><span class="pre">nearest</span></code> interpolation to
be the default for the current session, use:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set nearest neighbor interpolation by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.interpolation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span>
</pre></div>
</div>
<p>The image is weirdly colorful. That is because matplotlib is using the default
<em>colormap</em>. A colormap is a mapping from values in the array to colors. In
matplotlib &lt; 2.0 the default colormap is called <code class="docutils literal"><span class="pre">jet</span></code> and maps low numbers
in the image (0 in our case) to blue, and high numbers (99 in our case) to
red. For matplotlib version 2.0 and above the default colormap is called
<code class="docutils literal"><span class="pre">viridis</span></code>.  <code class="docutils literal"><span class="pre">viridis</span></code> maps low numbers to purple and high numbers to
yellow.</p>
<p>We can see the relationship of the numbers to the colors by asking matplotlib
to show the colormap:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Nearest interpolation is now the default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-6.png">png</a>, <a class="reference external" href=".//arrays_and_images-6.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-6.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-6.png" src="_images/arrays_and_images-6.png" />
</div>
<p>In our case, our image would make more sense as grayscale, so we use the
<code class="docutils literal"><span class="pre">gray</span></code> colormap, like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-7.png">png</a>, <a class="reference external" href=".//arrays_and_images-7.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-7.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-7.png" src="_images/arrays_and_images-7.png" />
</div>
<p>A grayscale image is an array containing numbers giving the pixel intensity
values - in our case between 0 and 99.</p>
<p>Here we set <code class="docutils literal"><span class="pre">gray</span></code> to the default colormap for the rest of our plots:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set &#39;gray&#39; as the default colormap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;gray&#39;</span>
</pre></div>
</div>
<p>We can also plot lines in matplotlib. For example, we might want to plot the
values in row 8 from this array.  Because Python indices start at 0, this is
the 9th row of the array.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">an_array</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>
<span class="go">[...]</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-9.png">png</a>, <a class="reference external" href=".//arrays_and_images-9.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-9.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-9.png" src="_images/arrays_and_images-9.png" />
</div>
<p>The x axis is the position in the array (0 through 7) and the y axis is the
value of the array row at that position.</p>
<p>The plot shows us the 0 values at the edges of the bar of the &#8220;i&#8221;, an the ramp
up to the peak at the middle of the bar of the &#8220;i&#8221;, in columns number 3 and 4.</p>
<p>A transpose in numpy uses the <code class="docutils literal"><span class="pre">.T</span></code> method on the array. This has the effect
of flipping the rows and columns (in 2D):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">an_array</span><span class="o">.</span><span class="n">T</span>
<span class="go">array([[ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],</span>
<span class="go">       [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1, 16,  0],</span>
<span class="go">       [ 0,  0,  0,  0,  0,  0,  0,  9, 27, 45, 63, 80, 96, 99,  0],</span>
<span class="go">       [ 0,  9, 25,  0, 56, 73, 91, 99, 99, 99, 99, 99, 99, 99,  0],</span>
<span class="go">       [ 0, 99, 99,  0, 99, 99, 99, 99, 99, 99, 99, 99, 99, 88,  0],</span>
<span class="go">       [ 0, 99, 99,  0, 99, 99, 99, 94, 77, 59, 42, 24,  6,  0,  0],</span>
<span class="go">       [ 0, 94, 79,  0, 49, 31, 13,  0,  0,  0,  0,  0,  0,  0,  0],</span>
<span class="go">       [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Defaults of nearest interpolation and gray colormap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-11.png">png</a>, <a class="reference external" href=".//arrays_and_images-11.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-11.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-11.png" src="_images/arrays_and_images-11.png" />
</div>
<p>We can also reshape the original array to a 1D array, by stacking all the rows
end to end:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">old_shape</span> <span class="o">=</span> <span class="n">an_array</span><span class="o">.</span><span class="n">shape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_1d_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">an_array</span><span class="p">,</span> <span class="n">old_shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">old_shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_1d_array</span>
<span class="go">array([ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  9, 99, 99, 94,  0,  0,</span>
<span class="go">        0,  0, 25, 99, 99, 79,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,</span>
<span class="go">        0, 56, 99, 99, 49,  0,  0,  0,  0, 73, 99, 99, 31,  0,  0,  0,  0,</span>
<span class="go">       91, 99, 99, 13,  0,  0,  0,  9, 99, 99, 94,  0,  0,  0,  0, 27, 99,</span>
<span class="go">       99, 77,  0,  0,  0,  0, 45, 99, 99, 59,  0,  0,  0,  0, 63, 99, 99,</span>
<span class="go">       42,  0,  0,  0,  0, 80, 99, 99, 24,  0,  0,  0,  1, 96, 99, 99,  6,</span>
<span class="go">        0,  0,  0, 16, 99, 99, 88,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,</span>
<span class="go">        0])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a_1d_array</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(120,)</span>
</pre></div>
</div>
<p>Reshaping the array to one dimension is a common operation, so there is a
separate numpy command for that, <code class="docutils literal"><span class="pre">np.ravel</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">an_array</span><span class="p">)</span>
<span class="go">array([ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  9, 99, 99, 94,  0,  0,</span>
<span class="go">        0,  0, 25, 99, 99, 79,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,</span>
<span class="go">        0, 56, 99, 99, 49,  0,  0,  0,  0, 73, 99, 99, 31,  0,  0,  0,  0,</span>
<span class="go">       91, 99, 99, 13,  0,  0,  0,  9, 99, 99, 94,  0,  0,  0,  0, 27, 99,</span>
<span class="go">       99, 77,  0,  0,  0,  0, 45, 99, 99, 59,  0,  0,  0,  0, 63, 99, 99,</span>
<span class="go">       42,  0,  0,  0,  0, 80, 99, 99, 24,  0,  0,  0,  1, 96, 99, 99,  6,</span>
<span class="go">        0,  0,  0, 16, 99, 99, 88,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,</span>
<span class="go">        0])</span>
</pre></div>
</div>
<p>One use of the 1D version of the array, is for making a histogram of the
distribution of values in the array:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">a_1d_array</span><span class="p">)</span>
<span class="go">(...)</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-15.png">png</a>, <a class="reference external" href=".//arrays_and_images-15.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-15.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-15.png" src="_images/arrays_and_images-15.png" />
</div>
<p>By default, the <code class="docutils literal"><span class="pre">plt.hist</span></code> function uses 50 bins, but you can specify how
many bins you want with the <code class="docutils literal"><span class="pre">bins</span></code> keyword:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">a_1d_array</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>
<span class="go">(...)</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-16.png">png</a>, <a class="reference external" href=".//arrays_and_images-16.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-16.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-16.png" src="_images/arrays_and_images-16.png" />
</div>
<p>As you can imagine, it&#8217;s not hard to go back to the 2D shape, by splitting the
1D array back into 15 rows of 8 values each (and therefore 8 columns):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array_back</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">a_1d_array</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_back</span>
<span class="go">array([[ 0,  0,  0,  0,  0,  0,  0,  0],</span>
<span class="go">       [ 0,  0,  0,  9, 99, 99, 94,  0],</span>
<span class="go">       [ 0,  0,  0, 25, 99, 99, 79,  0],</span>
<span class="go">       [ 0,  0,  0,  0,  0,  0,  0,  0],</span>
<span class="go">       [ 0,  0,  0, 56, 99, 99, 49,  0],</span>
<span class="go">       [ 0,  0,  0, 73, 99, 99, 31,  0],</span>
<span class="go">       [ 0,  0,  0, 91, 99, 99, 13,  0],</span>
<span class="go">       [ 0,  0,  9, 99, 99, 94,  0,  0],</span>
<span class="go">       [ 0,  0, 27, 99, 99, 77,  0,  0],</span>
<span class="go">       [ 0,  0, 45, 99, 99, 59,  0,  0],</span>
<span class="go">       [ 0,  0, 63, 99, 99, 42,  0,  0],</span>
<span class="go">       [ 0,  0, 80, 99, 99, 24,  0,  0],</span>
<span class="go">       [ 0,  1, 96, 99, 99,  6,  0,  0],</span>
<span class="go">       [ 0, 16, 99, 99, 88,  0,  0,  0],</span>
<span class="go">       [ 0,  0,  0,  0,  0,  0,  0,  0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">array_back</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-17.png">png</a>, <a class="reference external" href=".//arrays_and_images-17.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-17.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-17.png" src="_images/arrays_and_images-17.png" />
</div>
<p>In numpy, basic operations like multiplication, addition, comparison, are
always elementwise. For example, this multiplies every array value by 10:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">an_array</span> <span class="o">*</span> <span class="mi">10</span>
<span class="go">array([[  0,   0,   0,   0,   0,   0,   0,   0],</span>
<span class="go">       [  0,   0,   0,  90, 990, 990, 940,   0],</span>
<span class="go">       [  0,   0,   0, 250, 990, 990, 790,   0],</span>
<span class="go">       [  0,   0,   0,   0,   0,   0,   0,   0],</span>
<span class="go">       [  0,   0,   0, 560, 990, 990, 490,   0],</span>
<span class="go">       [  0,   0,   0, 730, 990, 990, 310,   0],</span>
<span class="go">       [  0,   0,   0, 910, 990, 990, 130,   0],</span>
<span class="go">       [  0,   0,  90, 990, 990, 940,   0,   0],</span>
<span class="go">       [  0,   0, 270, 990, 990, 770,   0,   0],</span>
<span class="go">       [  0,   0, 450, 990, 990, 590,   0,   0],</span>
<span class="go">       [  0,   0, 630, 990, 990, 420,   0,   0],</span>
<span class="go">       [  0,   0, 800, 990, 990, 240,   0,   0],</span>
<span class="go">       [  0,  10, 960, 990, 990,  60,   0,   0],</span>
<span class="go">       [  0, 160, 990, 990, 880,   0,   0,   0],</span>
<span class="go">       [  0,   0,   0,   0,   0,   0,   0,   0]])</span>
</pre></div>
</div>
<p>Comparison is also elementwise. For example, this gives True for every value &gt;
50, and False for every value &lt;= 50:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">an_array</span> <span class="o">&gt;</span> <span class="mi">50</span>
<span class="go">array([[False, False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False, False],</span>
<span class="go">       [False, False,  True,  True,  True, False, False, False],</span>
<span class="go">       [False, False,  True,  True,  True, False, False, False],</span>
<span class="go">       [False, False,  True,  True,  True, False, False, False],</span>
<span class="go">       [False, False,  True,  True,  True, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<p>Matplotlib will treat False as 0 and True as 1, so this is one way of
binarizing the image at a threshold (of 50 in this case):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-20.png">png</a>, <a class="reference external" href=".//arrays_and_images-20.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-20.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-20.png" src="_images/arrays_and_images-20.png" />
</div>
<p>We can slice arrays as we slice strings or lists. The difference for arrays is
that we can slice in any or all dimensions at the same time.  For example, to
get the dot of the &#8220;i&#8221; it looks (from the numbers at the sides of the ploat)
that we want to the top 4 rows, and the last 5 columns:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">an_array</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:]</span>
<span class="go">array([[ 0,  0,  0,  0,  0],</span>
<span class="go">       [ 9, 99, 99, 94,  0],</span>
<span class="go">       [25, 99, 99, 79,  0],</span>
<span class="go">       [ 0,  0,  0,  0,  0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">an_array</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:])</span>
<span class="go">&lt;...&gt;</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//arrays_and_images-21.png">png</a>, <a class="reference external" href=".//arrays_and_images-21.hires.png">hires.png</a>, <a class="reference external" href=".//arrays_and_images-21.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/arrays_and_images-21.png" src="_images/arrays_and_images-21.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PSYCH 214 Fall 2016</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="syllabus.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="preparation.html">Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="logistics.html">Logistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html">Labs</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="_downloads">Website downloads</a></li>
    
    <li class="toctree-l1"><a href="https://nipy.bic.berkeley.edu/psych-214">Dataset downloads</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/psych-214-fall-2016">Github organization</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="anatomical_solution.html" title="previous chapter">Anatomical solution</a></li>
      <li>Next: <a href="arteries_exercise.html" title="next chapter">Find the arteries exercise</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Matthew Brett, JB Poline.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/arrays_and_images.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>